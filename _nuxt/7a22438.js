(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{521:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},522:function(t,e,n){var r=n(527),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();t.exports=c},523:function(t,e,n){var r=n(522).Symbol;t.exports=r},525:function(t,e,n){var r=n(521),o=n(526),c=n(528),l=Math.max,f=Math.min;t.exports=function(t,e,n){var d,v,m,h,y,O,j=0,D=!1,w=!1,x=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function C(time){var e=d,n=v;return d=v=void 0,j=time,h=t.apply(n,e)}function T(time){return j=time,y=setTimeout(S,e),D?C(time):h}function $(time){var t=time-O;return void 0===O||t>=e||t<0||w&&time-j>=m}function S(){var time=o();if($(time))return k(time);y=setTimeout(S,function(time){var t=e-(time-O);return w?f(t,m-(time-j)):t}(time))}function k(time){return y=void 0,x&&d?C(time):(d=v=void 0,h)}function A(){var time=o(),t=$(time);if(d=arguments,v=this,O=time,t){if(void 0===y)return T(O);if(w)return clearTimeout(y),y=setTimeout(S,e),C(O)}return void 0===y&&(y=setTimeout(S,e)),h}return e=c(e)||0,r(n)&&(D=!!n.leading,m=(w="maxWait"in n)?l(c(n.maxWait)||0,e):m,x="trailing"in n?!!n.trailing:x),A.cancel=function(){void 0!==y&&clearTimeout(y),j=0,d=O=v=y=void 0},A.flush=function(){return void 0===y?h:k(o())},A}},526:function(t,e,n){var r=n(522);t.exports=function(){return r.Date.now()}},527:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(17))},528:function(t,e,n){var r=n(521),o=n(529),c=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,d=/^0o[0-7]+$/i,v=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=f.test(t);return n||d.test(t)?v(t.slice(2),n?2:8):l.test(t)?NaN:+t}},529:function(t,e,n){var r=n(530),o=n(533);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},530:function(t,e,n){var r=n(523),o=n(531),c=n(532),l=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?o(t):c(t)}},531:function(t,e,n){var r=n(523),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,f=r?r.toStringTag:void 0;t.exports=function(t){var e=c.call(t,f),n=t[f];try{t[f]=void 0;var r=!0}catch(t){}var o=l.call(t);return r&&(e?t[f]=n:delete t[f]),o}},532:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},533:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},545:function(t,e,n){"use strict";var r=n(6),o=n(83).every,c=n(84),l=n(40),f=c("every"),d=l("every");r({target:"Array",proto:!0,forced:!f||!d},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},546:function(t,e,n){var r=n(6),o=n(303).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},580:function(t,e,n){},581:function(t,e,n){},663:function(t,e,n){"use strict";n(580)},664:function(t,e,n){"use strict";n(581)},735:function(t,e,n){"use strict";n.r(e);n(545),n(52),n(38),n(546),n(66),n(39);var r=n(2),o=n(16),c=n(525),l=n.n(c),f=n(82),d=n(5);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"ApprovalDelegationModal",components:{},props:{},data:function(){return{userName:"",searchUser:"",minDate:null,isFetching:!1}},computed:m(m({},Object(f.e)({approvalDelegation:function(t){return t.approvalDelegation},collaborators:function(t){return t.collaborators},isLoading:function(t){return t.isLoading}})),{},{isEnableToConfirm:function(){return Object.values(this.approvalDelegation).every((function(t){return!!t}))&&this.collaborators.map((function(t){return t.userId})).includes(this.approvalDelegation.userSubstituteId)&&!this.isLoading}}),watch:{},mounted:function(){this.minDate=this.$moment().subtract(1,"d").toDate()},created:function(){},methods:m(m(m({},Object(f.d)(["setApprovalDelegationTerm","setSearchCollaboratorName"])),Object(f.b)(["createApprovalDelegation","getAvailableCollaborators"])),{},{handleChangeTerm:function(t,e){this.setApprovalDelegationTerm({key:t,value:e})},handleCreateApprovalDelegation:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$moment(t.approvalDelegation.beginTermDate),!t.$moment(t.approvalDelegation.endTermDate).isSameOrAfter(n)){e.next=8;break}return t.$emit("close"),e.next=6,t.createApprovalDelegation();case 6:e.next=9;break;case 8:Object(d.a)(t.$i18n.t("rangeDate"),"is-danger");case 9:case"end":return e.stop()}}),e)})))()},handleSelectUser:function(t){t.userId&&(console.log(t),this.handleChangeTerm("userSubstituteId",t.userId),this.handleChangeTerm("email",t.email),this.userName=t.userName)},getAsyncData:l()(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isFetching=!0,this.setSearchCollaboratorName(e),t.next=4,this.getAvailableCollaborators();case 4:this.isFetching=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),500)})},y=(n(663),n(664),n(22)),component=Object(y.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"approval-delegation-modal-wrapper"},[n("div",{staticClass:"card-l"},[n("div",{staticClass:"card-header"}),n("div",{staticClass:"card-content"},[n("form",{staticClass:"tw-grid",attrs:{name:"perfil"}},[n("b-field",{staticClass:"tw-mx-2",attrs:{label:t.$t("findByUser")}},[n("b-autocomplete",{attrs:{value:t.userName,data:t.collaborators,loading:t.isFetching},on:{typing:t.getAsyncData,select:function(option){t.handleSelectUser(option)}},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"tw-font-bold"},[t._v(t._s(e.option.userName))]),n("span",{staticClass:"tw-text-sm tw-font-bold"},[t._v("ID:")]),n("span",{staticClass:"tw-ml-1"},[t._v(t._s(e.option.userId))])]}}])})],1),n("b-field",{staticClass:"mx-2",attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",value:t.approvalDelegation.email,disabled:""}})],1),n("b-field",{staticClass:"mx-2",attrs:{label:t.$t("initialDate")}},[n("b-datepicker",{attrs:{"append-to-body":!0,icon:"calendar-today",size:"is-small","min-date":t.minDate,locale:"pt-BR",placeholder:t.$t("selectDate")},on:{input:function(e){return t.handleChangeTerm("beginTermDate",e)}}})],1),n("b-field",{staticClass:"mx-2",attrs:{label:t.$t("finalDate")}},[n("b-datepicker",{attrs:{icon:"calendar-today","append-to-body":!0,size:"is-small","min-date":t.minDate,locale:"pt-BR",placeholder:t.$t("selectDate")},on:{input:function(e){return t.handleChangeTerm("endTermDate",e)}}})],1)],1)]),n("div",{staticClass:"card-footer tw-px-6 tw-py-4 tw-flex tw-justify-end"},[n("div",{staticClass:"wrapper-buttons"},[n("b-button",{staticClass:"tw-mr-4",attrs:{type:"is-danger"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("cancel")))]),n("b-button",{attrs:{disabled:!t.isEnableToConfirm,type:"is-primary"},on:{click:t.handleCreateApprovalDelegation}},[t._v(t._s(t.$t("save")))])],1)])])])}),[],!1,null,"955190fe",null);e.default=component.exports}}]);