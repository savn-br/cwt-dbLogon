(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{534:function(e,t,r){e.exports=r.p+"img/CWT_LOGO_TRASNPARENTE.7346716.png"},540:function(e,t,r){e.exports=r.p+"img/mainBGmobile.c4f5a57.jpg"},550:function(e,t,r){},551:function(e,t,r){},631:function(e,t,r){"use strict";r(550)},632:function(e,t,r){"use strict";r(551)},714:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"l-card-header"},[t("img",{staticClass:"background",attrs:{src:r(540),alt:""}}),t("img",{staticClass:"tw-w-20 tw-mr-2 tw-mt-2 logo",attrs:{src:r(534)}})])}],o=(r(39),r(2)),c={name:"Teste",components:{},layout:"public",middleware:["auth"],props:{},data:function(){return{profileTypes:{new:{redirect:"new"},pending:{redirect:"pending"},saved:{redirect:"saved"},authorized:{redirect:"home"}},username:"",password:"",usernameMessage:"",passwordMessage:""}},computed:{},watch:{},mounted:function(){},created:function(){},methods:{submitLogin:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l,m,d,w,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("/auth/userLogin",{username:e.username,password:e.password});case 3:r=t.sent,n=r.data,200===(o=r.status)&&(window.localStorage.setItem("token",n.data.token),window.localStorage.setItem("refreshToken",n.data.refreshToken),c=n.data,l=c.profileType,m=c.userId,d=c.transactions,w=c.managerName,f=c.managerId,e.$store.commit("setUserDataTerm",{key:"managerId",value:f}),e.$store.commit("setUserDataTerm",{key:"managerName",value:w}),e.$store.commit("setUserDataTerm",{key:"userId",value:m}),e.$store.commit("setUserDataTerm",{key:"profileType",value:l}),e.$store.commit("setCurrentMenu",d),e.$router.push("/".concat(e.profileTypes[l].redirect,"/"))),404===o&&(e.usernameMessage="Usuário ou senha incorretos",e.passwordMessage="Usuário ou senha incorretos"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},l=(r(631),r(632),r(22)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrapper tw-grid tw-h-screen tw-h-screen tw-place-content-center"},[r("div",{staticClass:"l-card tw-shadow-lg"},[e._m(0),r("div",{staticClass:"l-card-body tw-p-8 tw-bg-white"},[r("form",{attrs:{name:"login",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submitLogin(t)}}},[r("fieldset",[r("legend",{staticClass:"tw-w-full tw-flex tw-justify-end"},[e._v("Login into your account")]),r("b-field",{attrs:{label:"user",type:e.usernameMessage?"is-danger":"",message:e.usernameMessage}},[r("b-input",{attrs:{size:"is-small",icon:"email",name:"username",autocomplete:"off"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),r("b-field",{attrs:{label:"password",message:e.passwordMessage,type:e.passwordMessage?"is-danger":""}},[r("b-input",{attrs:{size:"is-small",icon:"key",type:"password",name:"password",autocomplete:"off"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-button",{staticClass:"tw-w-full tw-mt-4",attrs:{type:"is-danger"},on:{click:e.submitLogin}},[e._v("Entrar")])],1)])])])])}),n,!1,null,"2be04fc8",null);t.default=component.exports}}]);